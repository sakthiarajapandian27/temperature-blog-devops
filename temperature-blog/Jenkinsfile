pipeline {
  agent any

  stages {
    stage('Build') {
      steps {
        echo 'ðŸ”§ Building...'
        dir('temperature-blog') {
          bat 'echo Build stage completed (no build needed for Node app)'
        }
      }
    }

    stage('Test') {
      steps {
        echo 'ðŸ§ª Running Tests...'
        dir('temperature-blog') {
          bat 'npm install'
          bat 'npm test'
        }
      }
    }

    stage('Code Quality') {
      steps {
        echo 'ðŸ“Š Code Quality (placeholder)'
        dir('temperature-blog') {
          bat 'echo Run SonarQube scanner here'
        }
      }
    }

    stage('Security Scan') {
      steps {
        echo 'ðŸ”’ Security Scan (placeholder)'
        dir('temperature-blog') {
          bat 'echo Run Trivy/Snyk scan here'
        }
      }
    }

    stage('Deploy') {
      steps {
        echo 'ðŸš€ Deploying locally...'
        dir('temperature-blog') {
          bat 'echo Deploy step completed'
        }
      }
    }

    stage('Release') {
      steps {
        echo 'ðŸ“¦ Tagging Release...'
        dir('temperature-blog') {
          bat 'echo git tag v1.0'
        }
      }
    }

    stage('Monitoring') {
      steps {
        echo 'ðŸ“ˆ Health Check...'
        dir('temperature-blog') {
          bat 'echo Run curl or monitoring tools here'
        }
      }
    }
  }
}

pipeline {
  agent any

  stages {
    stage('Build') {
      steps {
        echo 'ðŸ”§ Building...'
        bat 'echo Build stage completed (no build needed for Node app)'
      }
    }

    stage('Test') {
      steps {
        echo 'ðŸ§ª Running Tests...'
        bat 'npm install'
        bat 'npm test'
      }
    }

    stage('Code Quality') {
      steps {
        echo 'ðŸ“Š Code Quality (placeholder)'
        bat 'echo Run SonarQube scanner here (optional)'
      }
    }

    stage('Security Scan') {
      steps {
        echo 'ðŸ”’ Security Scan (placeholder)'
        bat 'echo Run Trivy/Snyk scan here (optional)'
      }
    }

    stage('Deploy') {
      steps {
        echo 'ðŸš€ Deploying locally...'
        bat 'echo Deploy step completed (placeholder)'
      }
    }

    stage('Release') {
      steps {
        echo 'ðŸ“¦ Tagging Release...'
        bat 'echo git tag v1.0'
      }
    }

    stage('Monitoring') {
      steps {
        echo 'ðŸ“ˆ Health Check...'
        bat 'echo Run curl or monitoring tools here'
      }
    }
  }
}
